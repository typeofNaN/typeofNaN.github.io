(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[424],{1085:(e,t,n)=>{"use strict";n.d(t,{sK:()=>N,ZL:()=>R});var o=n(3464);let s="DEFAULT",a="请求错误~",i="ECONNABORTED",r="NETWORK_ERROR",c="网络不可用~",u={400:"400: 请求出现语法错误~",401:"401: 用户未授权~",403:"403: 服务器拒绝访问~",404:"404: 请求的资源不存在~",405:"405: 请求方法未允许~",408:"408: 网络请求超时~",500:"500: 服务器内部错误~",501:"501: 服务器未实现请求功能~",502:"502: 错误网关~",503:"503: 服务不可用~",504:"504: 网关超时~",505:"505: http版本不支持该请求~",[s]:a},l=[],d=[66666];var g=n(8902);function p(e){return Object.prototype.toString.call(e)}function f(e){return p(e)===g.k.array}function b(e){return p(e)===g.k.file}var h=n(6052),m=n(1380),y=n.n(m);async function j(e,t){let n=e;return"application/x-www-form-urlencoded"===t&&(n=(0,h.stringify)(e)),"multipart/form-data"===t&&(n=await w(e)),n}async function w(e){let t=new(y());return Object.entries(e).forEach(async e=>{let[n,o]=e;b(o)||f(o)&&o.length&&b(o[0])?await C(t,n,o):t.append(n,o)}),t}async function C(e,t,n){f(n)?await Promise.all(n.map(n=>(e.append(t,n),!0))):e.append(t,n)}let k=new Map([]);function E(e){!e.msg||l.includes(e.code)||k.has(e.code)||(k.set(e.code,e.msg),setTimeout(()=>{k.delete(e.code)},3e3))}function O(e){let t={type:"axios",code:s,msg:a};return[[!window.navigator.onLine||"Network Error"===e.message,()=>{Object.assign(t,{code:r,msg:c})}],[e.code===i&&e.message.includes("timeout"),()=>{Object.assign(t,{code:i,msg:"请求超时~"})}],[!!e.response,()=>{var n;let o=(null==(n=e.response)?void 0:n.status)||"DEFAULT",s=u[o];Object.assign(t,{code:o,msg:s})}]].some(e=>{let[t,n]=e;return t&&n(),t}),E(t),t}async function v(e,t){return e?{error:e,data:null}:{error:null,data:t}}class x{setInterceptor(){this.instance.interceptors.request.use(async e=>{let t={...e};if(t.headers){let e=t.headers["Content-Type"];t.data=await j(t.data,e)}return t},e=>v(O(e),null)),this.instance.interceptors.response.use(async e=>{let{status:t,config:n}=e;if(200===t||t<300||304===t){let t=e.data,{codeKey:o,dataKey:s,successCode:a}=this.backendConfig;return t[o]===a?v(null,t[s]):d.includes(t[o])?new Promise(e=>{this.retryQueues.push(t=>{var o;n.headers.Authorization=null==(o=t.headers)?void 0:o.Authorization,e(this.instance.request(n))})}):v(function(e,t){let{codeKey:n,msgKey:o}=t,s={type:"backend",code:e[n],msg:e[o]};return E(s),s}(t,this.backendConfig),null)}return v(function(e){let t={type:"axios",code:s,msg:a};if(window.navigator.onLine){let n=e.status,o=u[n]||a;Object.assign(t,{type:"http",code:n,msg:o})}else Object.assign(t,{code:r,msg:c});return E(t),t}(e),null)},e=>v(O(e),null))}constructor(e,t={codeKey:"code",dataKey:"data",msgKey:"message",successCode:200}){this.backendConfig=t,this.instance=o.A.create(e),this.setInterceptor(),this.isRefreshing=!1,this.retryQueues=[]}}async function A(e){let t,{instance:n,method:o,url:s,data:a,config:i}=e;return"get"===o||"delete"===o?await n[o](s,i):await n[o](s,a,i)}let L=function(e,t){let n=new x(e,void 0);async function o(e){let{url:t}=e,o=e.method||"get",{instance:s}=n;return await A({instance:s,method:o,url:t,data:e.data,config:e.axiosConfig})}return{get:function(e,t){return o({url:e,method:"get",axiosConfig:t})},post:function(e,t,n){return o({url:e,method:"post",data:t,axiosConfig:n})},put:function(e,t,n){return o({url:e,method:"put",data:t,axiosConfig:n})},delete:function(e,t){return o({url:e,method:"delete",axiosConfig:t})}}}({baseURL:"https://api.typeofnan.cn/api/v1/web"});class N{static getPhotoAlbumList(){return L.get("/photo-album")}static async getMediaListByPhotoAlbumId(e){return L.get("/photo-album/".concat(e))}}class R{static getProjectGroupList(){return L.get("/project-group")}}},2634:()=>{},8902:(e,t,n)=>{"use strict";n.d(t,{w:()=>s,k:()=>o});let o={string:"[object String]",number:"[object Number]",boolean:"[object Boolean]",null:"[object Null]",undefined:"[object Undefined]",symbol:"[object Symbol]",bigInt:"[object BigInt]",object:"[object Object]",function:"[object Function]",array:"[object Array]",date:"[object Date]",regExp:"[object RegExp]",promise:"[object Promise]",set:"[object Set]",map:"[object Map]",file:"[object File]"},s="https://typeofnan.oss-cn-guangzhou.aliyuncs.com/"}}]);