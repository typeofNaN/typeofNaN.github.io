(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[778],{492:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>x});var l=s(5155),t=s(2115),i=s(3156),c=s(7974),o=s(2515),r=s(6213),d=s(7347),n=s(1858),p=s(1085);let x=()=>{let[e,a]=(0,t.useState)([]),[s,x]=(0,t.useState)(!1),[m,h]=(0,t.useState)(""),[u,b]=(0,t.useState)([]);(0,t.useEffect)(()=>{(async()=>{let{data:e}=await p.sK.getPhotoAlbumList();e&&a(e)})()},[]);let v=(0,t.useCallback)(async e=>{let{data:a}=await p.sK.getMediaListByPhotoAlbumId(e);a&&b(a)},[]),j=(0,t.useCallback)(async e=>{await v(e.photoAlbumId),h(e.photoAlbumName),x(!0)},[v]),w=(0,t.useCallback)(()=>{x(!1),b([]),h("")},[]),f=(0,t.useCallback)(e=>e.split("|").filter(Boolean).map((e,a)=>(0,l.jsx)("div",{className:"flex-center w-300px h-180px",children:(0,l.jsx)(i.A,{width:300,src:n.w_+e,preview:!1,alt:""})},a)),[]),N=(0,t.useCallback)(e=>e.split("|").filter(Boolean).map((e,a)=>(0,l.jsx)(c.A,{children:e},a)),[]),y=(0,t.useMemo)(()=>(0,l.jsx)(i.A.PreviewGroup,{children:u.map(e=>(0,l.jsx)("div",{className:"flex-center w-180px h-180px overflow-hidden",children:(0,l.jsx)(i.A,{src:"image"===e.mediaType?n.w_+e.mediaUrl:n.w_+(e.posterUrl||"".concat(e.mediaUrl,"?x-oss-process=video/snapshot,t_1,ar_auto")),width:180,height:180,alt:"",className:"object-cover"})},e.mediaId))}),[u]);return(0,l.jsxs)("div",{className:"flex flex-col gap-20px py-20px container",children:[e.map(e=>(0,l.jsxs)("div",{className:"flex gap-20px p-20px bg-color b-rd-8px select-none transition-duration-400 hover:transform-translate-y--4px hover:shadow cursor-pointer",onClick:()=>j(e),children:[(0,l.jsx)("div",{className:"w-300px h-180px",children:(0,l.jsx)(o.A,{autoplay:!0,autoplaySpeed:5e3,dots:!0,children:f(e.cover)})}),(0,l.jsxs)("div",{className:"w-[calc(100%-320px)]",children:[(0,l.jsxs)("div",{className:"flex-y-center justify-between mb-10px",children:[(0,l.jsx)("h3",{className:"text-20px",children:e.photoAlbumName}),(0,l.jsxs)("div",{className:"flex-y-center gap-8px text-12px opacity-40",children:[(0,l.jsx)(d.In,{icon:"material-symbols:alarm-outline-rounded"}),e.dateTime]})]}),(0,l.jsx)("div",{className:"mb-16px",children:N(e.tags)}),(0,l.jsx)("div",{className:"text-16px opacity-80",children:e.story})]})]},e.photoAlbumId)),(0,l.jsx)(r.A,{title:m,width:1e3,closable:{"aria-label":"Custom Close Button"},open:s,footer:null,onCancel:w,destroyOnHidden:!0,children:(0,l.jsx)("div",{className:"flex flex-wrap gap-12px m-auto",children:y})})]})}},8209:(e,a,s)=>{Promise.resolve().then(s.bind(s,492))}},e=>{var a=a=>e(e.s=a);e.O(0,[730,952,799,786,102,515,424,441,684,358],()=>a(8209)),_N_E=e.O()}]);